{"version":3,"sources":["components/voting.component.js","components/leaderboard.component.js","index.js"],"names":["Voting","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","video1","video2","_this2","i1","Math","floor","random","i2","axios","get","concat","then","res","console","log","vids","data","length","setState","winner","loser","Rwinner","pow","rating","Rloser","Ewinner","Eloser","winnerNewRating","round","loserNewRating","videos","that","post","updateVideoOptions","_this3","react_default","a","createElement","className","voting_component_VideoBox","video","onVote","submitVote","Explanation","Component","VideoBox","_this4","onPress","bind","assertThisInitialized","e","preventDefault","Fragment","Video","Button_default","variant","size","onClick","block","React","title","src","linkid","frameBorder","allowFullScreen","href","Leaderboard","Array","top","fill","Axios","leaderboard_component_LeaderboardTable","LeaderboardTable","map","vid","i","key","target","rel","require","MenuBar","Navbar_default","collapseOnSelect","expand","bg","fixed","Brand","Toggle","aria-controls","Collapse","id","Nav_default","react_router_dom","to","App","react_router","exact","path","component","render","leaderboard_component_Leaderboard","assign","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.34f1f948.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n// import { timeout } from 'q';\r\n// import { continueStatement } from '@babel/types';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nexport default class Voting extends Component {\r\n\r\n    //randomly updates index of video1 and 2\r\n    updateVideoOptions() {\r\n\r\n    // NUM VIDEOS = 678 (should never change)\r\n    let len = 678;\r\n\r\n    //generates 2 nums from 1 to len\r\n    let i1 = Math.floor(Math.random() * len+1);\r\n    let i2 = Math.floor(Math.random() * len+1);\r\n    while(i1 === i2)\r\n    {\r\n      i2 = Math.floor(Math.random() * len+1);\r\n    }\r\n\r\n    axios.get(`/api/video/2vids?index1=${i1}&index2=${i2}`)\r\n    .then(res => \r\n      {\r\n        console.log(res);\r\n        let vids = res.data;\r\n        if(vids.length === 2)\r\n          {\r\n          this.setState({\r\n            video1: vids[0],\r\n            video2: vids[1]\r\n          });\r\n        }\r\n      }  \r\n    );\r\n\r\n\r\n    }\r\n\r\n    submitVote(winner, loser) {\r\n\r\n    let Rwinner = Math.pow(10,(winner.rating/400));\r\n    let Rloser = Math.pow(10,(loser.rating/400));\r\n    let Ewinner = Rwinner/(Rwinner+Rloser);\r\n    let Eloser = Rloser/(Rwinner+Rloser);\r\n    let Swinner = 1;\r\n    let Sloser = 0;\r\n    let k = 32;\r\n\r\n    let winnerNewRating = Math.round(winner.rating + (k*(Swinner-Ewinner)));\r\n    let loserNewRating = Math.round(loser.rating + (k*(Sloser-Eloser)));\r\n\r\n    let videos = [winner, loser];\r\n    videos[0].rating = winnerNewRating;\r\n    videos[1].rating = loserNewRating;\r\n\r\n    //put videos with new ELO rating\r\n    var that=this;\r\n    axios.post('/api/video/update/2vids',{videos: videos}).then(function(res) {\r\n      console.log(res);\r\n      that.updateVideoOptions();\r\n    });\r\n\r\n    };\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {  video1: {},\r\n                      video2: {}\r\n                    };\r\n    };\r\n\r\n    componentDidMount() {\r\n      this.updateVideoOptions();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div className=\"container main-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <VideoBox video={this.state.video1} onVote={() => this.submitVote(this.state.video1, this.state.video2)}/>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <VideoBox video={this.state.video2} onVote={() => this.submitVote(this.state.video2, this.state.video1)}/>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <Explanation />\r\n          </div>\r\n        </div>\r\n        \r\n        </div>\r\n        \r\n      );\r\n    }\r\n}\r\n\r\n  \r\n  class VideoBox extends React.Component {\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.onPress = this.onPress.bind(this);\r\n    }\r\n    \r\n    onPress(e) {\r\n      e.preventDefault();\r\n      this.props.onVote();\r\n    }\r\n    \r\n    render() {\r\n      return (\r\n            <>\r\n            <Video video={this.props.video} />\r\n            <Button className=\"vote-button\" variant=\"primary\" size=\"lg\" onClick={this.onPress} block>\r\n                Vote\r\n            </Button>\r\n            </>\r\n      );\r\n    }\r\n  }\r\n  \r\n  function Video(props) {\r\n    return (\r\n      <div className=\"embed-responsive  embed-responsive-16by9\">\r\n        <iframe className=\"embed-responsive-item\" title={props.video.title} src={'https://www.youtube.com/embed/' + props.video.linkid } frameBorder=\"0\" allowFullScreen></iframe>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  \r\n  function Explanation(props) {\r\n    return (\r\n      <div className=\"container explanation\">\r\n            <h3>What/Why</h3>\r\n            <p>\r\n              <strong>Jake & Amir Ranked</strong> is a simple web application with the goal of using the wisdom of the crowds to determine the indisputable best Jake and Amir episode.\r\n            </p>\r\n            <p>\r\n              Based on the <a href=\"https://en.wikipedia.org/wiki/Elo_rating_system\">ELO Rating System</a> this app works by pitting 2 random episodes in a head to head vote and adjusting their ratings based on the outcome, according to a specific formula. Over time and with a LOT of user votes, an epsiodes ELO rating will be a great indicator of it's ranking in the population of videos. The more votes, the more accurate the Leaderboard, so get voting!\r\n            </p>\r\n            <p>\r\n              This project was my first React project and was meant to be a fun learning experience more than anything.  \r\n            </p>\r\n            <h3>How to play</h3>\r\n            <p>\r\n              Vote for which video you think is better using the buttons below them. You can watch the videos if you want a refresher or just speed vote to improve the accuracy of the leaderboard.\r\n              <br />\r\n              NOTE: Every vote impacts both video's ELO rating, even if it doesn't look like the leaderboards are affected\r\n            </p>\r\n      </div>\r\n    );\r\n  }","import React, { Component } from 'react';\r\nimport Axios from 'axios';\r\n\r\nexport default class Leaderboard extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          videos: Array(props.top).fill({}),\r\n        };\r\n      }\r\n\r\n    componentWillMount() {\r\n        let that = this;\r\n        Axios.get('/api/video/top/' + this.props.top).then(function(res) {\r\n            that.setState({\r\n                videos: res.data\r\n            });\r\n        });\r\n    }\r\n\r\n  render() {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-12\"><h2>Leaderboards</h2></div>\r\n                <div className=\"col-12\">\r\n                <LeaderboardTable videos={this.state.videos}>\r\n                </LeaderboardTable>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nclass LeaderboardTable extends React.Component {\r\n    render() {\r\n      return (\r\n        <table className=\"table leaderboard-table\">\r\n        <thead>\r\n          <tr>\r\n              <th>Rank</th>\r\n              <th>Title</th>\r\n              <th>Rating</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.props.videos.map((vid, i) =>\r\n            <tr key={i}>\r\n              <td>#{i+1}</td>\r\n              <td> <a href={'https://www.youtube.com/watch?v=' + vid.linkid } target=\"_blank\" rel=\"noopener noreferrer\">{vid.title}</a> </td>\r\n              <td>{vid.rating}</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n        </table>\r\n      );\r\n    }\r\n  }","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport './index.css';\r\n// import { createSecureContext } from 'tls';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport Voting from './components/voting.component';\r\nimport Leaderboard from './components/leaderboard.component';\r\n\r\nvar data = require('./videoList.json');\r\n\r\n\r\nfunction MenuBar(props) {\r\n  return (\r\n    <Navbar collapseOnSelect expand=\"sm\" bg=\"primary\" variant=\"dark\" fixed=\"top\">\r\n    <Navbar.Brand href=\"/\">Jake & Amir Ranked</Navbar.Brand>\r\n    <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n    <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n\r\n    <Nav className=\"mr-auto\">\r\n      <Link to={'/'} className=\"nav-link\">Vote</Link>\r\n      <Link to={'/leaderboard'} className=\"nav-link\">Leaderboard</Link>\r\n    </Nav>\r\n\r\n    </Navbar.Collapse>\r\n  </Navbar>\r\n  );\r\n}\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {videos: data.videos};\r\n  }\r\n\r\n  render () {\r\n  return (\r\n    <Router>\r\n      <MenuBar />\r\n      <div className=\"container\">\r\n\r\n          <Switch>\r\n              <Route exact path='/' component={ Voting } />\r\n              <Route path='/leaderboard' render={(props) => <Leaderboard {...props} top=\"20\" />} />\r\n          </Switch>\r\n\r\n      </div>\r\n    </Router>\r\n  );\r\n  }\r\n}\r\n\r\n//=====================\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}