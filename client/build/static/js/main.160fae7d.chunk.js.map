{"version":3,"sources":["components/voting.component.js","components/leaderboard.component.js","components/menubar.js","index.js"],"names":["Voting","_useState","useState","_useState2","Object","slicedToArray","video1","setVideo1","_useState3","_useState4","video2","setVideo2","updateVideoOptions","i1","Math","floor","random","i2","axios","get","concat","then","res","console","log","vids","data","length","submitVote","winner","loser","Rwinner","pow","rating","Rloser","Ewinner","Eloser","winnerNewRating","round","loserNewRating","videos","post","useEffect","react_default","a","createElement","className","VideoBox","video","onVote","Explanation","props","Fragment","Video","Button_default","variant","size","onClick","block","title","src","linkid","frameBorder","allowFullScreen","href","Leaderboard","setVideos","top","LeaderboardTable","map","vid","i","key","target","rel","MenuBar","Navbar_default","collapseOnSelect","expand","bg","fixed","Brand","Toggle","aria-controls","Collapse","id","Nav_default","react_router_dom","to","ReactDOM","render","react_router","exact","path","component","assign","document","getElementById"],"mappings":"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","file":"static/js/main.160fae7d.chunk.js","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nexport default function Voting() {\r\n\r\n    const [video1, setVideo1] = useState({});\r\n    const [video2, setVideo2] = useState({});\r\n\r\n    //randomly updates index of video1 and 2\r\n    const updateVideoOptions = () => {\r\n\r\n      // NUM VIDEOS = 678 (should never change)\r\n      const len = 678;\r\n\r\n      //generates 2 nums from 1 to len\r\n      let i1 = Math.floor(Math.random() * len+1);\r\n      let i2 = Math.floor(Math.random() * len+1);\r\n      while(i1 === i2)\r\n      {\r\n        i2 = Math.floor(Math.random() * len+1);\r\n      }\r\n\r\n      axios.get(`/api/video/2vids?index1=${i1}&index2=${i2}`).then(res => \r\n      {\r\n        console.log(res);\r\n        let vids = res.data;\r\n        if(vids.length === 2)\r\n        {\r\n          setVideo1(vids[0]);\r\n          setVideo2(vids[1]);\r\n        }\r\n      });\r\n\r\n\r\n    }\r\n\r\n    const submitVote = (winner, loser) => {\r\n\r\n    let Rwinner = Math.pow(10,(winner.rating/400));\r\n    let Rloser = Math.pow(10,(loser.rating/400));\r\n    let Ewinner = Rwinner/(Rwinner+Rloser);\r\n    let Eloser = Rloser/(Rwinner+Rloser);\r\n    let Swinner = 1;\r\n    let Sloser = 0;\r\n    let k = 32;\r\n\r\n    let winnerNewRating = Math.round(winner.rating + (k*(Swinner-Ewinner)));\r\n    let loserNewRating = Math.round(loser.rating + (k*(Sloser-Eloser)));\r\n\r\n    let videos = [winner, loser];\r\n    videos[0].rating = winnerNewRating;\r\n    videos[1].rating = loserNewRating;\r\n\r\n    //put videos with new ELO rating\r\n    axios.post('/api/video/update/2vids',{videos: videos}).then(function(res) {\r\n      console.log(res);\r\n      updateVideoOptions();\r\n    });\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n      updateVideoOptions();\r\n    }, []);\r\n\r\n    return (\r\n      <div className=\"container main-body\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <VideoBox video={video1} onVote={() => submitVote(video1, video2)}/>\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          <VideoBox video={video2} onVote={() => submitVote(video2, video1)}/>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <Explanation />\r\n        </div>\r\n      </div>\r\n      \r\n      </div>\r\n      \r\n    );\r\n}\r\n\r\n  \r\nfunction VideoBox(props) {    \r\n  return (\r\n        <>\r\n        <Video video={props.video} />\r\n        <Button className=\"vote-button\" variant=\"primary\" size=\"lg\" onClick={() => props.onVote()} block>\r\n            Vote\r\n        </Button>\r\n        </>\r\n  );\r\n}\r\n  \r\nfunction Video(props) {\r\n  return (\r\n    <div className=\"embed-responsive  embed-responsive-16by9\">\r\n      <iframe className=\"embed-responsive-item\" title={props.video.title} src={'https://www.youtube.com/embed/' + props.video.linkid } frameBorder=\"0\" allowFullScreen></iframe>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Explanation() {\r\n  return (\r\n    <div className=\"container explanation\">\r\n          <h3>What/Why</h3>\r\n          <p>\r\n            <strong>Jake & Amir Ranked</strong> is a simple web application with the goal of using the wisdom of the crowds to determine the indisputable best Jake and Amir episode.\r\n          </p>\r\n          <p>\r\n            Based on the <a href=\"https://en.wikipedia.org/wiki/Elo_rating_system\">ELO Rating System</a> this app works by pitting 2 random episodes in a head to head vote and adjusting their ratings based on the outcome, according to a specific formula. Over time and with a LOT of user votes, an epsiodes ELO rating will be a great indicator of it's ranking in the population of videos. The more votes, the more accurate the Leaderboard, so get voting!\r\n          </p>\r\n          <p>\r\n            This project was my first React project and was meant to be a fun learning experience more than anything.  \r\n          </p>\r\n          <h3>How to play</h3>\r\n          <p>\r\n            Vote for which video you think is better using the buttons below them. You can watch the videos if you want a refresher or just speed vote to improve the accuracy of the leaderboard.\r\n            <br />\r\n            NOTE: Every vote impacts both video's ELO rating, even if it doesn't look like the leaderboards are affected\r\n          </p>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function Leaderboard(props) {\r\n  \r\n  const [videos, setVideos] = useState([]);\r\n\r\n  useEffect(() => {\r\n\r\n    axios.get('/api/video/top/' + props.top).then(function(res) {\r\n      setVideos(res.data);\r\n    });\r\n\r\n  },[]);\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <h2>Leaderboards</h2>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <LeaderboardTable videos={videos} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nfunction LeaderboardTable(props) {\r\n      return (\r\n        <table className=\"table leaderboard-table\">\r\n        <thead>\r\n          <tr>\r\n              <th>Rank</th>\r\n              <th>Title</th>\r\n              <th>Rating</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {props.videos.map((vid, i) =>\r\n            <tr key={i}>\r\n              <td>#{i+1}</td>\r\n              <td><a href={'https://www.youtube.com/watch?v=' + vid.linkid } target=\"_blank\" rel=\"noopener noreferrer\">{vid.title}</a> </td>\r\n              <td>{vid.rating}</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n        </table>\r\n      );\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nexport default function MenuBar(props) {\r\n    return (\r\n      <Navbar collapseOnSelect expand=\"sm\" bg=\"primary\" variant=\"dark\" fixed=\"top\">\r\n      <Navbar.Brand href=\"/\">Jake & Amir Ranked</Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n      <Nav className=\"mr-auto\">\r\n        <Link to={'/'} className=\"nav-link\">Vote</Link>\r\n        <Link to={'/leaderboard'} className=\"nav-link\">Leaderboard</Link>\r\n      </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n    );\r\n  }","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport './index.css';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport Voting from './components/voting.component';\r\nimport Leaderboard from './components/leaderboard.component';\r\nimport MenuBar from './components/menubar'\r\n\r\nfunction App() {\r\n  return (\r\n      <>\r\n        <MenuBar />\r\n        <div className=\"container\">\r\n            <Switch>\r\n                <Route exact path='/' component={ Voting } />\r\n                <Route path='/leaderboard' render={(props) => <Leaderboard {...props} top=\"20\" />} />\r\n            </Switch>\r\n        </div>\r\n      </>\r\n  );\r\n}\r\n\r\n//=====================\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}