{"version":3,"sources":["components/voting.component.js","components/leaderboard.component.js","index.js"],"names":["Voting","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","video1","video2","_this2","i1","Math","floor","random","i2","axios","get","concat","then","res","console","log","vids","data","length","setState","winner","loser","Rwinner","pow","rating","Rloser","Ewinner","Eloser","winnerNewRating","round","loserNewRating","videos","that","post","updateVideoOptions","_this3","react_default","a","createElement","voting_component_VideoBox","video","onVote","submitVote","Explanation","Component","VideoBox","_this4","onPress","bind","assertThisInitialized","e","preventDefault","className","Video","Button_default","variant","size","onClick","block","React","width","height","title","src","linkid","frameBorder","allowFullScreen","href","Leaderboard","Array","top","fill","Axios","leaderboard_component_LeaderboardTable","LeaderboardTable","map","vid","i","key","target","rel","require","MenuBar","Navbar_default","collapseOnSelect","expand","bg","fixed","Brand","Toggle","aria-controls","Collapse","id","Nav_default","react_router_dom","to","App","react_router","exact","path","component","render","leaderboard_component_Leaderboard","assign","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0a5ff7a5.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n// import { timeout } from 'q';\n// import { continueStatement } from '@babel/types';\nimport Button from 'react-bootstrap/Button';\n\nexport default class Voting extends Component {\n\n    //randomly updates index of video1 and 2\n    updateVideoOptions() {\n\n        // NUM VIDEOS = 678 (should never change)\n        let len = 678;\n    \n        //generates 2 nums from 1 to len\n        let i1 = Math.floor(Math.random() * len+1);\n        let i2 = Math.floor(Math.random() * len+1);\n        while(i1 === i2)\n        {\n          i2 = Math.floor(Math.random() * len+1);\n        }\n\n        axios.get(`/api/video/2vids?index1=${i1}&index2=${i2}`)\n        .then(res => \n          {\n            console.log(res);\n            let vids = res.data;\n            if(vids.length === 2)\n             {\n              this.setState({\n                video1: vids[0],\n                video2: vids[1]\n              });\n            }\n          }  \n        );\n    \n    \n      }\n\n      submitVote(winner, loser) {\n        \n        let Rwinner = Math.pow(10,(winner.rating/400));\n        let Rloser = Math.pow(10,(loser.rating/400));\n        let Ewinner = Rwinner/(Rwinner+Rloser);\n        let Eloser = Rloser/(Rwinner+Rloser);\n        let Swinner = 1;\n        let Sloser = 0;\n        let k = 32;\n\n        let winnerNewRating = Math.round(winner.rating + (k*(Swinner-Ewinner)));\n        let loserNewRating = Math.round(loser.rating + (k*(Sloser-Eloser)));\n\n        let videos = [winner, loser];\n        videos[0].rating = winnerNewRating;\n        videos[1].rating = loserNewRating;\n\n        //put videos with new ELO rating\n        var that=this;\n        axios.post('/api/video/update/2vids',{videos: videos}).then(function(res) {\n          console.log(res);\n          that.updateVideoOptions();\n        });\n\n      };\n      \n      constructor(props) {\n          super(props);\n          this.state = {  video1: {},\n                          video2: {}\n                       };\n        };\n    \n        componentDidMount() {\n          this.updateVideoOptions();\n        }\n    \n        render() {\n          return (\n            <div>\n              <VideoBox video={this.state.video1} onVote={() => this.submitVote(this.state.video1, this.state.video2)}/>\n              <VideoBox video={this.state.video2} onVote={() => this.submitVote(this.state.video2, this.state.video1)}/>\n              <Explanation />\n            </div>\n            \n          );\n        }\n}\n\n  \n  class VideoBox extends React.Component {\n\n    constructor(props) {\n      super(props);\n      this.onPress = this.onPress.bind(this);\n    }\n    \n    onPress(e) {\n      e.preventDefault();\n      this.props.onVote();\n    }\n    \n    render() {\n      return (\n          <div className=\"single-video\">\n            <Video video={this.props.video} />\n\n            <Button className=\"vote-button\" variant=\"primary\" size=\"lg\" onClick={this.onPress} block>\n                Vote\n            </Button>\n\n          </div>\n      );\n    }\n  }\n  \n  function Video(props) {\n  \n    return (\n      <iframe width=\"560\" height=\"315\" title={props.video.title} src={'https://www.youtube.com/embed/' + props.video.linkid } frameBorder=\"0\" allowFullScreen></iframe>\n    );\n  }\n  \n  \n  function Explanation(props) {\n    return (\n      <div className=\"explanation\">\n            <h3>What/Why</h3>\n            <p>\n              <strong>Jake & Amir Ranked</strong> is a simple web application with the goal of using the wisdom of the crowds to determine the indisputable best Jake and Amir episode.\n            </p>\n            <p>\n              Based on the <a href=\"https://en.wikipedia.org/wiki/Elo_rating_system\">ELO Rating System</a> this app works by pitting 2 random episodes in a head to head vote and adjusting their ratings based on the outcome, according to a specific formula. Over time and with a LOT of user votes, an epsiodes ELO rating will be a great indicator of it's ranking in the population of videos. The more votes, the more accurate the Leaderboard, so get voting!\n            </p>\n            <p>\n              This project was my first React project and was meant to be a fun learning experience more than anything.  \n            </p>\n            <h3>How to play</h3>\n            <p>\n              Vote for which video you think is better using the buttons below them. You can watch the videos if you want a refresher or just speed vote to improve the accuracy of the leaderboard.\n              <br />\n              NOTE: Every vote impacts both video's ELO rating, even if it doesn't look like the leaderboards are effected\n            </p>\n      </div>\n    );\n  }","import React, { Component } from 'react';\nimport Axios from 'axios';\n\nexport default class Leaderboard extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n          videos: Array(props.top).fill({}),\n        };\n      }\n\n    componentWillMount() {\n        let that = this;\n        Axios.get('/api/video/top/' + this.props.top).then(function(res) {\n            that.setState({\n                videos: res.data\n            });\n        });\n    }\n\n  render() {\n        return (\n            <div className=\"row\">\n                <div className=\"col-12\"><h2>Leaderboards</h2></div>\n                <div className=\"col-12\">\n                <LeaderboardTable videos={this.state.videos}>\n                </LeaderboardTable>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nclass LeaderboardTable extends React.Component {\n    render() {\n      return (\n        <table className=\"table leaderboard-table\">\n        <thead>\n          <tr>\n              <th>Rank</th>\n              <th>Title</th>\n              <th>Rating</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.videos.map((vid, i) =>\n            <tr key={i}>\n              <td>#{i+1}</td>\n              <td> <a href={'https://www.youtube.com/watch?v=' + vid.linkid } target=\"_blank\" rel=\"noopener noreferrer\">{vid.title}</a> </td>\n              <td>{vid.rating}</td>\n            </tr>\n          )}\n        </tbody>\n        </table>\n      );\n    }\n  }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport './index.css';\n// import { createSecureContext } from 'tls';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n\nimport Voting from './components/voting.component';\nimport Leaderboard from './components/leaderboard.component';\n\nvar data = require('./videoList.json');\n\n\nfunction MenuBar(props) {\n  return (\n    <Navbar collapseOnSelect expand=\"sm\" bg=\"primary\" variant=\"dark\" fixed=\"top\">\n    <Navbar.Brand href=\"/\">Jake & Amir Ranked</Navbar.Brand>\n    <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n    <Navbar.Collapse id=\"responsive-navbar-nav\">\n\n    <Nav className=\"mr-auto\">\n      <Link to={'/'} className=\"nav-link\">Vote</Link>\n      <Link to={'/leaderboard'} className=\"nav-link\">Leaderboard</Link>\n    </Nav>\n\n    </Navbar.Collapse>\n  </Navbar>\n  );\n}\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {videos: data.videos};\n  }\n\n  render () {\n  return (\n    <Router>\n      <MenuBar />\n      <div className=\"main-body\">\n\n          <Switch>\n              <Route exact path='/Jake-and-Amir-Ranked/' component={ Voting } />\n              <Route path='/Jake-and-Amir-Ranked/leaderboard' render={(props) => <Leaderboard {...props} top=\"20\" />} />\n          </Switch>\n\n      </div>\n    </Router>\n  );\n  }\n}\n\n//=====================\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}